{
    "$schema": "http://json-schema.org/draft-07/schema",
    "type": "object",
    "title": "Assignment collection",
    "$comment": "json editor link : ",
    "description": "",
    "required": [
        "Assignments"
    ],
    "properties": {
        "class":{
            "type": "string",
            "default":"Port parameter",
            "enum": ["Port parameter"],
            "$comment": "Fixed value"
        },
        "type":{
            "type": "string",
            "default":"Assignment collection",
            "enum": ["Assignment collection"],
            "$comment": "Fixed value"
        },
        "Assignments":{
            "type": "array",
            "title": "Assignments",
            "description": "List of assignments for handlings association with supply-chain",
            "required": [],
            "default":null,
            "items": {
                "type": "object",
                "title": "Assignment",
                "description": "Assigne handlings with specified caracteristics to one specific supply-chain (or ordered list of supply-chains",
                "required": [
                    "ID",
                    "handling_profils",
                    "sc_IDs"
                ],
                "properties": {
                    "ID": {
                        "type": "string",
                        "title": "Identifier",
                        "description": "A name (that have to be unique)",
                        "examples": [
                            "assign_1",
                            "all cereal on docks 419 or 420 except corn"
                        ]
                    },
                    "info": {
                        "type": "object",
                        "title": "Information",
                        "description": "General information about the assignment",
                        "required": [],
                        "properties": {
                            "description": {
                                "type": "string",
                                "title": "Assignement item description",
                                "description": "A brief description",
                                "default": null,
                                "examples": [
                                    "some description"
                                ]
                            },
                            "tags": {
                                "type": "array",
                                "title": "Associated tags",
                                "description": "List tags used to gather with other entities (regardless of their class)",
                                "default": null,
                                "items": {
                                    "type": "string",
                                    "title": "Tag",
                                    "description": "A keyword or short labelling that is also assigned to other entities",
                                    "examples": [
                                        [
                                            "wip",
                                            "switch to green"
                                        ]
                                    ]
                                }
                            },
                            "comments": {
                                "type": "array",
                                "title": "Comments",
                                "description": "List the comments about this entity (useful to trace modifications)",
                                "default": null,
                                "items": {
                                    "type": "string",
                                    "title": "Comment",
                                    "examples": [
                                        "2020 05 14 (J.Smith) - A comment"
                                    ]
                                }
                            }
                        }
                    },
                    "sc_IDs": {
                        "type": "array",
                        "title": "Assigned supply-chains",
                        "description": "Sequence of supply-chains ID, ordered by suitability",
                        "default": null,
                        "items": {
                            "type": "string",
                            "title": "Supply-chain ID",
                            "default": null
                        }
                    },
                    "handling_profils": {
                        "type": "array",
                        "title": "Targeted handlings profiles",
                        "description": "List handling profiles that get the supply-chains assignment (more than one profile act as 'OR')",
                        "default": null,
                        "items": {
                            "type": "object",
                            "title": "Handling profile",
                            "description": "Required set of characteristics",
                            "required": [],
                            "properties": {
                                "terminals": {
                                    "type": "array",
                                    "title": "Suitable terminals",
                                    "default": null,
                                    "items": {
                                        "type": "string",
                                        "title": "Terminal's ID",
                                        "default": null
                                    }
                                },
                                "categories": {
                                    "type": "array",
                                    "title": "Suitable categories",
                                    "default": null,
                                    "items": {
                                        "type": "string",
                                        "title": "Handling's category",
                                        "default": null,
                                        "examples": [
                                            "Full un/load",
                                            "Commuting"
                                        ]
                                    }
                                },
                                "types": {
                                    "type": "array",
                                    "title": "Suitable types",
                                    "default": null,
                                    "items": {
                                        "type": "string",
                                        "title": "Handling's type",
                                        "default": null,
                                        "examples": [
                                            "Cargo",
                                            "Passengers",
                                            "Containers"
                                        ]
                                    }
                                },
                                "directions": {
                                    "type": "array",
                                    "title": "Suitable directions",
                                    "default": null,
                                    "items": {
                                        "type": "string",
                                        "title": "Direction",
                                        "enum": [
                                            "unloading",
                                            "loading",
                                            "other"
                                        ]
                                    }
                                },
                                "ship": {
                                    "type": "object",
                                    "title": "Suitable ships characteristics",
                                    "default": null,
                                    "properties": {
                                        "ids": {
                                            "type": "array",
                                            "title": "Ship's IDs",
                                            "default": null,
                                            "items": {
                                                "type": "string",
                                                "title": "Ship's ID",
                                                "default": null
                                            }
                                        },
                                        "categories": {
                                            "type": "array",
                                            "title": "Ship's categories",
                                            "default": null,
                                            "items": {
                                                "type": "string",
                                                "title": "Ship's category",
                                                "default": null
                                            }
                                        },
                                        "capacity": {
                                            "type": "object",
                                            "title": "Ship's capacity",
                                            "default": null,
                                            "properties": {
                                                "min": {
                                                    "type": "number",
                                                    "title": "Capacity above",
                                                    "default": null
                                                },
                                                "max": {
                                                    "type": "number",
                                                    "title": "Capacity bellow",
                                                    "default": null
                                                }
                                            }
                                        }
                                    }
                                },
                                "docks": {
                                    "type": "array",
                                    "title": "Suitable docks",
                                    "default": null,
                                    "items": {
                                        "type": "string",
                                        "title": "Dock's ID",
                                        "default": null
                                    }
                                },
                                "operators": {
                                    "type": "array",
                                    "title": "Suitable operators",
                                    "default": null,
                                    "items": {
                                        "type": "string",
                                        "title": "Operator",
                                        "default": null
                                    }
                                },
                                "content": {
                                    "type": "object",
                                    "title": "Suitable contents",
                                    "default": null,
                                    "properties": {
                                        "agents": {
                                            "type": "array",
                                            "title": "Content's agents",
                                            "default": null,
                                            "items": {
                                                "type": "string",
                                                "title": "Agent",
                                                "default": null
                                            }
                                        },
                                        "amount_max": {
                                            "type": "number",
                                            "title": "Amount bellow",
                                            "default": null
                                        },
                                        "amount_min": {
                                            "type": "number",
                                            "title": "Amount above",
                                            "default": null
                                        },
                                        "dangerous": {
                                            "type": "boolean",
                                            "title": "Dangerous content",
                                            "default": null
                                        },
                                        "categories": {
                                            "type": "array",
                                            "title": "Content's categories",
                                            "default": null,
                                            "items": {
                                                "type": "string",
                                                "title": "Content's category",
                                                "default": null,
                                                "examples": [
                                                    "Solid bulk",
                                                    "Cereal"
                                                ]
                                            }
                                        },
                                        "types": {
                                            "type": "array",
                                            "title": "Content's types",
                                            "default": null,
                                            "items": {
                                                "type": "string",
                                                "title": "Content's type",
                                                "default": null,
                                                "examples": [
                                                    "salt",
                                                    "cereal"
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}